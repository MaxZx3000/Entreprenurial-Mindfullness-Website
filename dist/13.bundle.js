(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{50:function(e,t,n){"use strict";var r=n(3),p=n.n(r),d=n(4),h=n(5),f=n(6),v=n(2),m=n(0),y=n(8),w=n(23);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,s,i,o){try{var a=e[i](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,s)}function b(a){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=a.apply(e,o);function s(e){u(r,t,n,s,i,"next",e)}function i(e){u(r,t,n,s,i,"throw",e)}s(void 0)})}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(n){var r=a();return function(){var e,t=c(n),t=(e=r?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(e){var n="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,c(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),E(t,e)}(e)}function o(e,t,n){return(o=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);t=new(Function.bind.apply(e,r));return n&&E(t,n.prototype),t}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r=function(e){var t=l;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e);var n,r,s,i,o,a,u,c=k(l);function l(){var e;if(this instanceof l)return(e=c.call(this)).testElement=document.createElement("div"),e.loadingElement=new w.a,e.userAnswer={ACT:4,INS:4,UBE:4,HSI:4,HCA:4,DST:4,DEV:4,DCS:4,COG:4,AFK:4},e.refreshQuestionFunction=function(){e.renderQuestionElement(),e.updateAnswerCaptionValue()},e;throw new TypeError("Cannot call a class as a function")}return t=l,(e=[{key:"renderLoadingElement",value:(u=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingElement.setMessage(m.a.getLocalizedText("fetching_question")),e.next=3,this.loadingElement.init();case 3:return this.appendChild(this.loadingElement),e.next=6,m.a.initTranslate();case 6:this.loadingElement.style.visibility="visible";case 7:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"removeLoadingElement",value:function(){this.removeChild(this.loadingElement)}},{key:"render",value:function(){this.testElement.innerHTML='\n            <div class = "h1-header">\n                <h1>Test</h1>\n            </div>\n            <div class = "container">\n                <h1 id = "test-title">Entrepreneurial Mindfulness Test</h1>\n                <div class = "card">\n                    <div class = "row">\n                        <div class = "col-sm-8 col-md-8 col-lg-10">\n                            <p>\n                                <strong id = "dimension"></strong>\n                            </p>\n                        </div>\n                        <div class = "col-sm-4 col-md-4 col-lg-2">\n                            <button class = "icon-button-caption float-right" id = "help-button">\n                                <span class = "material-icons">help</span>\n                                <span class = "caption" data-i18n-key = "help">Help</span>\n                            </button>\n                        </div>\n                    </div>\n                    <p id = "question_number"></p>\n                    <p id = "question_en"></p>\n                    <p id = "question_id"></p>\n                    <p id = "user_response_feedback"></p>\n                    <input list = "tickmarks" type = "range" min = 1 max = 7 id = "user_response" name = "user_response">\n                    <datalist id = "tickmarks">\n\n                    </datalist>\n                    <div class = "row">\n                        <div class = "col-sm-12 col-md-6 col-lg-6">\n                            <button type = "button" id = "previous" data-i18n-key = "previous" class = "secondary-action-button">\n                                Previous\n                            </button>\n                        </div>\n                        <div class = "col-sm-12 col-md-6 col-lg-6">\n                            <button type = "button" id = "next" data-i18n-key = "next" class = "secondary-action-button">\n                                Next\n                            </button>\n                        </div>\n                    </div>\n                    <div class = "row">\n                        <div class = "col-sm-12 col-md-12 col-lg-12" id = "light-dark-background">\n                            <div class = "float-right">\n                                <button type = "button" id = "save-answer" data-i18n-key = "save_answer" class = "action-button primary-button">\n                                    Save Answer\n                                </button>\n                                \n                            </div>\n                            <div class = "float-right">\n                                <button type = "button" id = "submit-answer" data-i18n-key = "submit_answer" class = "action-button primary-button">\n                                    Submit Answer\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ',this.renderQuestionElement(),this.renderOptionsElement()}},{key:"renderQuestionElement",value:function(){var e=this.testElement.querySelector("#dimension"),t=this.testElement.querySelector("#question_en"),n=this.testElement.querySelector("#question_id"),r=this.testElement.querySelector("input[type='range']"),s=this.testElement.querySelector("#question_number"),i=parseInt(y.a.getURLStripParts()[1]),e=(e.innerText=this.questions[i].dimension_name,t.innerText=this.questions[i].question_in,n.innerHTML=this.questions[i].question_en,s.innerText="No. ".concat(i),this.questions[i].indicator_code.split("-")[1]);r.value="".concat(this.userAnswer[e])}},{key:"renderOptionsElement",value:function(){var n=this.testElement.querySelector("#tickmarks");this.scores.forEach(function(e){var t=document.createElement("option");t.value=e.score,t.label=e.score,n.appendChild(t)})}},{key:"updateCaptionAnswer",value:function(){var e=this.testElement.querySelector("#user_response_feedback"),t=this.testElement.querySelector("#user_response").value;e.innerText=this.scores[t-1].title}},{key:"setPreviousButtonListener",value:function(){var n=this;this.testElement.querySelector("#previous").addEventListener("click",function(){var e=parseInt(y.a.getURLStripParts()[1])-1,t=n.testElement.querySelector("#question_number");1<=e&&(y.a.setWindowURLHash("test/".concat(e)),t.innerText="No. ".concat(e))})}},{key:"setNextButtonListener",value:function(){var n=this,r=this.testElement.querySelector("#next");r.addEventListener("click",function(){var e=parseInt(y.a.getURLStripParts()[1])+1,t=n.testElement.querySelector("#question_number");e<=10?(y.a.setWindowURLHash("test/".concat(e)),t.innerText="No. ".concat(e)):r.disabled=!1})}},{key:"setHelpButtonListener",value:function(){this.testElement.querySelector("#help-button").addEventListener("click",function(){p.a.fire({title:m.a.getLocalizedText("test_tutorial_title"),icon:"question",showConfirmButton:!1,showCancelButton:!1,showDenyButton:!1,html:"\n                    <p>".concat(m.a.getLocalizedText("test_tutorial_explanation"),'</p>\n                    <button type = "button" id = "swal-close-button" class = "action-button" style = "width: 100%">OK</button>\n                ')}),f.a.initializeCloseButton()})}},{key:"initValueForResponseFeedback",value:function(){var e=this.testElement.querySelector("#user_response_feedback"),t=this.testElement.querySelector("#user_response").value,n=parseInt(y.a.getURLStripParts()[1]),n=this.questions[n].indicator_code.split("-")[1];e.innerText=this.scores[t-1].title,this.userAnswer[n]=parseInt(t)}},{key:"updateAnswerCaptionValue",value:function(){var e=this.testElement.querySelector("#user_response_feedback"),t=this.testElement.querySelector("#user_response").value;e.innerText=this.scores[t-1].title}},{key:"setUserResponseListener",value:function(){var e=this;this.testElement.querySelector("#user_response").addEventListener("input",function(){e.initValueForResponseFeedback()})}},{key:"setSaveAnswerListener",value:function(){var t=this,n=this.testElement.querySelector("#save-answer");n.addEventListener("click",b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.disabled=!0,n.textContent=m.a.getLocalizedText("saving_answer"),e.next=4,h.a.saveAnswer(t.userAnswer);case 4:200===e.sent.status&&(n.disabled=!1,n.textContent=m.a.getLocalizedText("save_answer"));case 6:case"end":return e.stop()}},e)})))}},{key:"setSubmitAnswerListener",value:function(){var n=this;this.testElement.querySelector("#submit-answer").addEventListener("click",b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.fire({title:"Processing your answers...",icon:"question",showConfirmButton:!1,showCancelButton:!1,showDenyButton:!1,allowOutsideClick:!1,showCloseButton:!1,onBeforeOpen:function(){p.a.showLoading()},onAfterClose:function(){p.a.hideLoading()}}),e.next=3,h.a.submitAnswer(n.userAnswer);case 3:t=e.sent,console.log(t),200===t.status?(p.a.fire({title:"Hooray!",icon:"success",showConfirmButton:!1,showCancelButton:!1,showDenyButton:!1,showCloseButton:!1,html:"\n                        <p>".concat(m.a.getLocalizedText("success_submit"),'</p>\n                        <button type = "button" id = "swal-close-button" class = "action-button" style = "width: 100%">OK</button>\n                    ')}),f.a.initializeCloseButton(),y.a.setWindowURLHash("result")):p.a.fire({title:"Oops!",icon:"error",showConfirmButton:!1,showCancelButton:!1,showDenyButton:!1,showCloseButton:!1,html:"\n                        <p>".concat(m.a.getLocalizedText("failed_submit"),'</p>\n                        <button type = "button" id = "swal-close-button" class = "action-button" style = "width: 100%">OK</button>\n                    ')});case 6:case"end":return e.stop()}},e)})))}},{key:"setQuestionListener",value:function(){window.addEventListener("hashchange",this.refreshQuestionFunction)}},{key:"setListeners",value:function(){this.setNextButtonListener(),this.setPreviousButtonListener(),this.setHelpButtonListener(),this.setUserResponseListener(),this.setQuestionListener(),this.setSaveAnswerListener(),this.setSubmitAnswerListener()}},{key:"fetchQuestions",value:(a=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getJSONResult(d.a.getQuestionLink(),v.a.getDefaultRequestBody());case 2:200===(t=e.sent).status&&(this.questions=t.json),console.log(t);case 5:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"fetchScoresData",value:(o=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getJSONResult(d.a.getScoresLink(),v.a.getDefaultRequestBody());case 2:200===(t=e.sent).status&&(this.scores=t.json);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"fetchCurrentUserAnswer",value:(i=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.getAnswer();case 2:t=e.sent,this.userAnswer=t.json,console.log("Response JSON Data: ".concat(this.userAnswer.ACT));case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"preRender",value:(s=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderLoadingElement();case 2:return e.next=4,this.fetchQuestions();case 4:return e.next=6,this.fetchScoresData();case 6:return e.next=8,this.fetchCurrentUserAnswer();case 8:this.removeLoadingElement();case 9:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"init",value:(r=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preRender();case 2:this.render(),this.setListeners(),this.updateAnswerCaptionValue(),m.a.initTranslate(),this.appendChildren();case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"disinit",value:function(){window.removeEventListener("hashchange",this.refreshQuestionFunction)}},{key:"appendChildren",value:function(){this.appendChild(this.testElement)}}])&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(i(HTMLElement));customElements.define("test-page",r),t.a=r}}]);